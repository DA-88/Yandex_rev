import scrapy
from scrapy.http import HtmlResponse

class ImportTormSpider(scrapy.Spider):
    name = 'import_torm'
    allowed_domains = ['nalog.ru']
    start_urls = ['https://www.nalog.gov.ru/rn01/apply_fts/', 'https://www.nalog.gov.ru/rn02/apply_fts/', 'https://www.nalog.gov.ru/rn03/apply_fts/', 'https://www.nalog.gov.ru/rn04/apply_fts/', 'https://www.nalog.gov.ru/rn05/apply_fts/', 'https://www.nalog.gov.ru/rn06/apply_fts/', 'https://www.nalog.gov.ru/rn07/apply_fts/', 'https://www.nalog.gov.ru/rn08/apply_fts/', 'https://www.nalog.gov.ru/rn09/apply_fts/', 'https://www.nalog.gov.ru/rn10/apply_fts/', 'https://www.nalog.gov.ru/rn11/apply_fts/', 'https://www.nalog.gov.ru/rn12/apply_fts/', 'https://www.nalog.gov.ru/rn13/apply_fts/', 'https://www.nalog.gov.ru/rn14/apply_fts/', 'https://www.nalog.gov.ru/rn15/apply_fts/', 'https://www.nalog.gov.ru/rn16/apply_fts/', 'https://www.nalog.gov.ru/rn17/apply_fts/', 'https://www.nalog.gov.ru/rn18/apply_fts/', 'https://www.nalog.gov.ru/rn19/apply_fts/', 'https://www.nalog.gov.ru/rn20/apply_fts/', 'https://www.nalog.gov.ru/rn21/apply_fts/', 'https://www.nalog.gov.ru/rn22/apply_fts/', 'https://www.nalog.gov.ru/rn23/apply_fts/', 'https://www.nalog.gov.ru/rn24/apply_fts/', 'https://www.nalog.gov.ru/rn25/apply_fts/', 'https://www.nalog.gov.ru/rn26/apply_fts/', 'https://www.nalog.gov.ru/rn27/apply_fts/', 'https://www.nalog.gov.ru/rn28/apply_fts/', 'https://www.nalog.gov.ru/rn29/apply_fts/', 'https://www.nalog.gov.ru/rn30/apply_fts/', 'https://www.nalog.gov.ru/rn31/apply_fts/', 'https://www.nalog.gov.ru/rn32/apply_fts/', 'https://www.nalog.gov.ru/rn33/apply_fts/', 'https://www.nalog.gov.ru/rn34/apply_fts/', 'https://www.nalog.gov.ru/rn35/apply_fts/', 'https://www.nalog.gov.ru/rn36/apply_fts/', 'https://www.nalog.gov.ru/rn37/apply_fts/', 'https://www.nalog.gov.ru/rn38/apply_fts/', 'https://www.nalog.gov.ru/rn39/apply_fts/', 'https://www.nalog.gov.ru/rn40/apply_fts/', 'https://www.nalog.gov.ru/rn41/apply_fts/', 'https://www.nalog.gov.ru/rn42/apply_fts/', 'https://www.nalog.gov.ru/rn43/apply_fts/', 'https://www.nalog.gov.ru/rn44/apply_fts/', 'https://www.nalog.gov.ru/rn45/apply_fts/', 'https://www.nalog.gov.ru/rn46/apply_fts/', 'https://www.nalog.gov.ru/rn47/apply_fts/', 'https://www.nalog.gov.ru/rn48/apply_fts/', 'https://www.nalog.gov.ru/rn49/apply_fts/', 'https://www.nalog.gov.ru/rn50/apply_fts/', 'https://www.nalog.gov.ru/rn51/apply_fts/', 'https://www.nalog.gov.ru/rn52/apply_fts/', 'https://www.nalog.gov.ru/rn53/apply_fts/', 'https://www.nalog.gov.ru/rn54/apply_fts/', 'https://www.nalog.gov.ru/rn55/apply_fts/', 'https://www.nalog.gov.ru/rn56/apply_fts/', 'https://www.nalog.gov.ru/rn57/apply_fts/', 'https://www.nalog.gov.ru/rn58/apply_fts/', 'https://www.nalog.gov.ru/rn59/apply_fts/', 'https://www.nalog.gov.ru/rn60/apply_fts/', 'https://www.nalog.gov.ru/rn61/apply_fts/', 'https://www.nalog.gov.ru/rn62/apply_fts/', 'https://www.nalog.gov.ru/rn63/apply_fts/', 'https://www.nalog.gov.ru/rn64/apply_fts/', 'https://www.nalog.gov.ru/rn65/apply_fts/', 'https://www.nalog.gov.ru/rn66/apply_fts/', 'https://www.nalog.gov.ru/rn67/apply_fts/', 'https://www.nalog.gov.ru/rn68/apply_fts/', 'https://www.nalog.gov.ru/rn69/apply_fts/', 'https://www.nalog.gov.ru/rn70/apply_fts/', 'https://www.nalog.gov.ru/rn71/apply_fts/', 'https://www.nalog.gov.ru/rn72/apply_fts/', 'https://www.nalog.gov.ru/rn73/apply_fts/', 'https://www.nalog.gov.ru/rn74/apply_fts/', 'https://www.nalog.gov.ru/rn75/apply_fts/', 'https://www.nalog.gov.ru/rn76/apply_fts/', 'https://www.nalog.gov.ru/rn77/apply_fts/', 'https://www.nalog.gov.ru/rn78/apply_fts/', 'https://www.nalog.gov.ru/rn79/apply_fts/', 'https://www.nalog.gov.ru/rn86/apply_fts/', 'https://www.nalog.gov.ru/rn87/apply_fts/', 'https://www.nalog.gov.ru/rn89/apply_fts/', 'https://www.nalog.gov.ru/rn91/apply_fts/', 'https://www.nalog.gov.ru/rn92/apply_fts/']

    def parse(self, response:HtmlResponse):
        root_urls = response.xpath("//a[@class='black']/@href")
        for url in root_urls:
            request = scrapy.Request(f"https://www.nalog.gov.ru{url.root}", callback=self.parse_torm)
            yield request
        pass

    def parse_torm(self, response:HtmlResponse):
        root_urls = response.xpath("//a[@class='black']/@href")

        pass